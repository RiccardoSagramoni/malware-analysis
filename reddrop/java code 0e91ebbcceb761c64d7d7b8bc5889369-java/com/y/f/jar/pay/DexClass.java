package com.y.f.jar.pay;

import android.content.Context;
import dalvik.system.DexClassLoader;
import java.io.File;
/* loaded from: classes.dex */

//[fmss] The instances of this class are used to manage the load of .dex classes.
public class DexClass {
    public static DexClass dexClass = null;
    private DexClassLoader dexClassLoader = null;
    private String filePath;
    private boolean isDexInit;
    private Context mContext;

    public static DexClass install(Context paramContext, String filePath) {
        if (dexClass == null) {
            dexClass = new DexClass(paramContext, filePath);
        }
        return dexClass;
    }

    private DexClass(Context paramContext, String filePath) {
        this.mContext = null;
        this.isDexInit = false;
        this.mContext = paramContext.getApplicationContext();
        this.isDexInit = false;
        this.filePath = filePath;
        getInItDexClass();
    }

    public void setDexClassChange() {
        this.isDexInit = true;
    }

    public Class<?> getDexClass(String paramString) {
        if (getInItDexClass() && this.dexClassLoader != null) {
            try {
                return this.dexClassLoader.loadClass(paramString);
            } catch (ClassNotFoundException e) {
                e.printStackTrace();
            }
        }
        return null;
    }

    private synchronized boolean getInItDexClass() {
        boolean z = false;
        synchronized (this) {
            if (this.isDexInit) {
                this.isDexInit = false;
                this.dexClassLoader = null;
            }
            if (this.dexClassLoader == null) {
                File jarTarget = new File(this.filePath);
                if (!jarTarget.exists()) {
                    UpdateSDK.copyfile(this.mContext, jarTarget);
                }
                new File(this.filePath.replace("apk", "dex")).delete();
                this.dexClassLoader = new DexClassLoader(jarTarget.getAbsolutePath(), jarTarget.getParent(), null, this.mContext.getClassLoader());
            }
            if (this.dexClassLoader != null) {
                z = true;
            }
        }
        return z;
    }
}
